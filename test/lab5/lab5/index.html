
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://workshop.thyintresources.com/secretserver-adv/lab5/lab5/">
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Secrets manipulation using folders - Secret Server Advanced</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 0 1 .25-.25h5.025a.25.25 0 0 1 .177.073l6.25 6.25a.25.25 0 0 1 0 .354l-5.025 5.025a.25.25 0 0 1-.354 0l-6.25-6.25a.25.25 0 0 1-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.75 1.75 0 0 1 1 7.775zM6 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2.5 1.75a.25.25 0 0 1 .25-.25h8.5a.25.25 0 0 1 .25.25v7.736a.75.75 0 1 0 1.5 0V1.75A1.75 1.75 0 0 0 11.25 0h-8.5A1.75 1.75 0 0 0 1 1.75v11.5c0 .966.784 1.75 1.75 1.75h3.17a.75.75 0 0 0 0-1.5H2.75a.25.25 0 0 1-.25-.25V1.75zM4.75 4a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-4.5zM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75zm11.774 3.537a.75.75 0 0 0-1.048-1.074L10.7 14.145 9.281 12.72a.75.75 0 0 0-1.062 1.058l1.943 1.95a.75.75 0 0 0 1.055.008l4.557-4.45z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm6.5-.25A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75zM8 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.489 4.489 0 0 1-.563-1.191 3.833 3.833 0 0 1-.05-2.063 4.636 4.636 0 0 1-2.025-.293.75.75 0 1 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.748.748 0 0 1 1.06 0 .75.75 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.404 2.404 0 0 1-.507-.441 3.063 3.063 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.753.753 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768a85.08 85.08 0 0 0-.317-.265c-.814-.68-1.75-1.462-2.692-2.619a3.74 3.74 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 1.06-1.06L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm9 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM6.92 6.085c.081-.16.19-.299.34-.398.145-.097.371-.187.74-.187.28 0 .553.087.738.225A.613.613 0 0 1 9 6.25c0 .177-.04.264-.077.318a.956.956 0 0 1-.277.245c-.076.051-.158.1-.258.161l-.007.004a7.728 7.728 0 0 0-.313.195 2.416 2.416 0 0 0-.692.661.75.75 0 0 0 1.248.832.956.956 0 0 1 .276-.245 6.3 6.3 0 0 1 .26-.16l.006-.004c.093-.057.204-.123.313-.195.222-.149.487-.355.692-.662.214-.32.329-.702.329-1.15 0-.76-.36-1.348-.863-1.725A2.76 2.76 0 0 0 8 4c-.631 0-1.155.16-1.572.438-.413.276-.68.638-.849.977a.75.75 0 1 0 1.342.67z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575L6.457 1.047zM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-.25-5.25a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0v-2.5z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M3.404 12.596a6.5 6.5 0 1 1 9.192-9.192 6.5 6.5 0 0 1-9.192 9.192zM2.344 2.343a8 8 0 1 0 11.313 11.314A8 8 0 0 0 2.343 2.343zM6.03 4.97a.75.75 0 0 0-1.06 1.06L6.94 8 4.97 9.97a.75.75 0 1 0 1.06 1.06L8 9.06l1.97 1.97a.75.75 0 1 0 1.06-1.06L9.06 8l1.97-1.97a.75.75 0 1 0-1.06-1.06L8 6.94 6.03 4.97z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M10.561 1.5a.016.016 0 0 0-.01.004L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.02.02 0 0 0-.004-.009.02.02 0 0 0-.006-.006L10.56 1.5zM9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.25 1.25 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.492 3.492 0 0 1 2.441 0l.999-1a.75.75 0 1 1 1.06 1.061l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.013 5.013 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.684 1.684 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06zM6.173 5h3.654A.173.173 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173zM5.25 6.5a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75h-5.5z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458L5 5.782zM9.5 2.5h-3V6a.75.75 0 0 1-.117.403L4.73 9h6.54L9.617 6.403A.75.75 0 0 1 9.5 6V2.5zm-6.9 9.847L3.775 10.5h8.45l1.175 1.847a.75.75 0 0 1-.633 1.153H3.233a.75.75 0 0 1-.633-1.153z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.75 2.5a.75.75 0 0 0 0 1.5h10.5a.75.75 0 0 0 0-1.5H1.75zm4 5a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5zm0 5a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5zM2.5 7.75a.75.75 0 0 0-1.5 0v6a.75.75 0 0 0 1.5 0v-6z"/></svg>');}</style>

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Manrope:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Manrope";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#secrets-manipulation-using-folders" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Secret Server Advanced" class="md-header__button md-logo" aria-label="Secret Server Advanced" data-md-component="logo">
      
  <img src="../../img/Delinea.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Secret Server Advanced
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Secrets manipulation using folders
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Secret Server Advanced" class="md-nav__button md-logo" aria-label="Secret Server Advanced" data-md-component="logo">
      
  <img src="../../img/Delinea.svg" alt="logo">

    </a>
    Secret Server Advanced
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab1/lab1/" class="md-nav__link">
        Configure Site Connector
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab2/lab2/" class="md-nav__link">
        Add Site
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab3/lab3/" class="md-nav__link">
        Discovery of the second domain
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab4/lab4/" class="md-nav__link">
        Proxying SSh and RDP
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Secrets manipulation using folders
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Secrets manipulation using folders
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#define-policies" class="md-nav__link">
    Define policies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-new-folder-structure-and-policies" class="md-nav__link">
    Configure the new folder structure and policies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-secret-for-the-greensafe-domain" class="md-nav__link">
    Add secret for the Greensafe domain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-the-configuration" class="md-nav__link">
    Test the configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab6/lab6/" class="md-nav__link">
        Teams
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab7/lab7/" class="md-nav__link">
        Hooks in secrets
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab8/lab8/" class="md-nav__link">
        Custom Discovery
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab9/lab9/" class="md-nav__link">
        Custom Remote Password Changer
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab10/lab10/" class="md-nav__link">
        Disaster Recovery
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../lab11/lab11/" class="md-nav__link">
        Summarize the lab
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#define-policies" class="md-nav__link">
    Define policies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configure-the-new-folder-structure-and-policies" class="md-nav__link">
    Configure the new folder structure and policies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-secret-for-the-greensafe-domain" class="md-nav__link">
    Add secret for the Greensafe domain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-the-configuration" class="md-nav__link">
    Test the configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    Conclusion
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="secrets-manipulation-using-folders">Secrets manipulation using folders</h1>
<p>Now that both organisations have been discovered, scanned and the proxy connection is working, it's time to start organising the secrets and corresponding access rights to secrets. The combined IT Security has been defined as following:</p>
<ul>
<li>IT Admins from the Thylab domain are allowed to use and see ALL secrets to access ALL servers AND must comment with checkout why they need access to the Thylab servers. After the session closes, the password needs to be rotated</li>
<li>IT Admins from the Greensafe domain are allowed to ONLY see the secrets of their Legacy environment and use them on their servers and are allowed to retrieve passwords</li>
<li>The UNIX admins are allowed to see ALL unix related secrets and can use them to access ALL Unix related machines but are not allowed to see the passwords</li>
<li>For all users<ul>
<li>all sessions (RDP and SSH) MUST run proxied</li>
</ul>
</li>
</ul>
<h2 id="define-policies">Define policies</h2>
<p>To make sure possibilities are enforced upon users, polices can be used. The policies can be set on a per secret bases, or in a more scalable way on folders. </p>
<ol>
<li>Stay on the Client vm</li>
<li>Navigate to <strong>Administration &gt;&gt; &gt; Actions &gt; Secret Policies</strong></li>
<li>
<p>One policy already exists <strong>IT Server Team - Domain Admin Policy</strong>, click on the policy to see the settings. Changing between the tabs have to be done.</p>
<ul>
<li>
<p><strong>Remote Password Changing</strong></p>
<ul>
<li>Auto Change - Default Only - Unchecked (= Enforced)</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0038.png" /></p>
</li>
<li>
<p><strong>Security tab</strong></p>
<ul>
<li>Require Checkout - Yes - Default Only - Checked</li>
<li>Custom Check Out Interval - Default - 120</li>
<li>Require Comment - Yes - Default Only - Checked</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0037.png" /></p>
</li>
</ul>
</li>
<li>
<p>Open the Summary Tab and click <strong>Edit</strong></p>
</li>
<li>
<p>Change the following for the policy</p>
<ul>
<li><strong>Name:</strong> Policy - Thylab comment on access to Windows secrets</li>
<li><strong>Description:</strong> Comments Required for access to the secrets and check out/in, RPC enabled</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0039.png" /></p>
</li>
<li>
<p>Click <strong>Save</strong></p>
</li>
<li>
<p>Open the <strong>Security</strong> tab and set the following after clicking <strong>Edit</strong></p>
<ul>
<li><strong>Require Check Out:</strong> Yes - Default Only - Unchecked</li>
<li><strong>Custom check Out Interval:</strong> 60 - Default Only - Unchecked</li>
<li><strong>Change Password on check In:</strong> Yes - Default Only - Unchecked</li>
<li><strong>Require Comment:</strong> Yes - Default Only - Unchecked</li>
<li><strong>Enable proxy:</strong> Yes - Default Only - Unchecked</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0040.png" /></p>
</li>
<li>
<p>Click <strong>Save</strong> and click <strong>OK</strong> on the <em>Confirm</em> message</p>
</li>
<li>
<p>Open the <strong>Remote Password Changing</strong> tab and set the following after clicking <strong>Edit</strong></p>
<ul>
<li>Heartbeat Enabled: Yes - Default Only - Unchecked</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0041.png" /></p>
</li>
<li>
<p>Click <strong>Save</strong> and click <strong>OK</strong> on the <em>Confirm</em> message</p>
</li>
<li>Navigate to <strong>Administration &gt;&gt; &gt; Actions &gt; Secret Policies</strong></li>
<li>Create a new policy by clicking <strong>Add</strong> and use the following parameters:<ul>
<li>Name: Policy - Proxy all sessions</li>
<li>Description: Policy to use only proxy connections</li>
<li>Enabled: Checked</li>
</ul>
</li>
<li>
<p>Open the <strong>Security</strong> tab and set the following after clicking <strong>Edit</strong></p>
<ul>
<li><strong>Enable Proxy:</strong> Yes - Default Only - Unchecked</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0042.png" /></p>
</li>
<li>
<p>Click <strong>Save</strong> and click <strong>OK</strong> on the <em>Confirm</em> message</p>
</li>
<li>
<p>Click <strong>Secret Policy</strong> (in the top of the screen) to return to all the policies</p>
<p><img alt="Secret Policy" src="../images/ss-adv-0043.png" /></p>
</li>
<li>
<p>Create a new policy and use the following parameters:</p>
<ul>
<li><strong>Name:</strong> Policy - Unix hide password with proxy</li>
<li><strong>Description:</strong> Policy for Unix systems to hide passwords and use the proxy</li>
<li><strong>Enabled:</strong> Checked</li>
</ul>
</li>
<li>
<p>On the <strong>Security</strong> tab</p>
<ul>
<li><strong>Hide Launcher Password:</strong> Yes - Default Only - Unchecked</li>
<li><strong>Enable Proxy:</strong> Yes - Default Only - Unchecked</li>
</ul>
<p><img alt="Secret Policy" src="../images/ss-adv-0044.png" /></p>
</li>
<li>
<p>Click <strong>Save</strong> and click <strong>OK</strong> on the <em>Confirm</em> message </p>
</li>
</ol>
<h2 id="configure-the-new-folder-structure-and-policies">Configure the new folder structure and policies</h2>
<p>To be able to assign the correct rights, the folder structure needs to be more hierarchial than it is today. All is now from one organisation's PoV.
1. Navigate to <strong>Secrets &gt;&gt;</strong>
2. Right-click the <em>IT Team folder</em> and select <strong>Edit Folder</strong>
3. Click the <em>Permissions</em> tab and Click <strong>Edit</strong>
4. Add <strong>Team_UNIXAdmins</strong>, <strong>Team_UNIXDBA</strong>, Team_IT and <strong>Team_Heldesk</strong> by clicking them and dragging to the left where the other accounts are shown
5. Click <strong>Save</strong>
2. Navigate to <strong>Secrets &gt;&gt; &gt; IT Team &gt; IT - Server Team</strong>
3. Right-click the <em>IT - Server Team</em> folder and select <strong>Edit Folder</strong>
4. Click <strong>Edit</strong> next to <em>Secret Policy</em> and select <strong>Proxy all sessions</strong>
5. Click <strong>Save</strong>
11. Click the <strong>Permissions</strong> tba and click <strong>Edit</strong>
12. Add <strong>Team_IT</strong> and <strong>Team_Helpdesk</strong>
13. Click <strong>Save</strong>
14. Create a folder called <strong>Thylab</strong> under <strong>IT - Server Team</strong> by right clicking this folder and select <strong>Add Subfolder</strong></p>
<pre><code>![Move Secrets - 3](images/ss-adv-0045.png)
</code></pre>
<ol>
<li>Navigate back to <strong>IT - Server Team</strong></li>
<li>
<p>Select the secrets <em>Checkout Example, RFA Example, Server team - Domain Admin</em> and Click <strong>Bulk Actions</strong> at the bottom of the screen</p>
<p><img alt="Move Secrets" src="../images/ss-adv-0046.png" /></p>
</li>
<li>
<p>Click <strong>Move To Folder</strong></p>
</li>
<li>
<p>Navigate to IT Team &gt; IT - Server Team &gt; Thylab and click <strong>Move Secrets</strong></p>
<p><img alt="Move Secrets - 2" src="../images/ss-adv-0047.png" /></p>
</li>
<li>
<p>Click <strong>Close</strong> after the Bulk Progress is ready</p>
<p><img alt="Move Secrets - 3" src="../images/ss-adv-0048.png" /></p>
</li>
<li>
<p>Only one secret should be left in the folder <strong>Greensafe - Domain Controller</strong></p>
</li>
<li>Right-click the <strong>Thylab</strong> folder and select <strong>Edit Folder</strong></li>
<li>Click <strong>Edit</strong> next to <em>Secret Policy</em> and select <strong>Policy - Thylab comment on access to Windows secrets</strong></li>
<li>Click <strong>Permissions</strong> tab</li>
<li>Click <strong>Edit</strong> </li>
<li><strong>Uncheck</strong> Inherit Permissions</li>
<li>
<p>Remove ALL greensafe.lab groups by clicking the Bin ico when hoovering over the account</p>
<p><img alt="Set folder rights" src="../images/ss-adv-0049.png" /></p>
</li>
<li>
<p>Click <strong>Save</strong></p>
</li>
<li>Right-click the <em>IT - Unix Team</em> folder and select <strong>Edit Folder</strong></li>
<li>Click <strong>Edit</strong> next to <em>Secret Policy</em> and select <strong>Policy - Unix hide password with proxy</strong></li>
<li>Click <strong>Save</strong></li>
<li>Click <strong>Permissions</strong> tab</li>
<li>Click <strong>Edit</strong> </li>
<li>Add <strong>Team_UNIXAdmins, Team_UNIXDBA, Team_IT</strong> and <strong>Team_Heldesk</strong></li>
<li>
<p>Click Save</p>
<p><img alt="Set folder rights - 2" src="../images/ss-adv-0050.png" /></p>
</li>
</ol>
<h2 id="add-secret-for-the-greensafe-domain">Add secret for the Greensafe domain</h2>
<ol>
<li>In the <em>IT Secrets &gt; IT - Server Team</em> folder where there is only one secret <strong>add the following secret</strong><ul>
<li><strong>Secret Template:</strong> Windows Account</li>
<li><strong>Secret name:</strong> Greensafe - DB Server</li>
<li><strong>Machine:</strong> db-server</li>
<li><strong>Username:</strong> afoster</li>
<li><strong>Password:</strong> Centr1fy</li>
<li><strong>Site:</strong> greensafe.lab</li>
</ul>
</li>
</ol>
<p><img alt="Set folder rights - 2" src="../images/ss-adv-0051.png" /></p>
<ol>
<li>Click <strong>Create Secret</strong></li>
</ol>
<h2 id="test-the-configuration">Test the configuration</h2>
<p>Now that the setup is ready to be used, testing is in order. For this test the client machine will be used.</p>
<hr />
<p><strong>Note</strong> The passwords as you shown in the screenshots will be different per installation and will not reflect your infrastructure</p>
<hr />
<ol>
<li>Logout the current user of the Secret Server UI by clicking the icon in the top right corner and select <strong>Log Out</strong></li>
</ol>
<p><img alt="Set folder rights - 2" src="../images/ss-adv-0052.png" /></p>
<ol>
<li>Click <strong>Login</strong></li>
<li>Login as user <strong>krogers</strong> with <strong>Centr1fy</strong> in the <strong>Greensafe</strong> domain</li>
<li>
<p>Kim Rogers should only see the <strong>IT Team &gt; IT - Unix Team</strong> folders and the corresponding secrets</p>
<p><img alt="Test Confguration - 1" src="../images/ss-adv-0053.png" /></p>
</li>
<li>
<p>Click one of the secrets. The Password Field will not be shown as set by the policy</p>
<p><img alt="Test Confguration - 2" src="../images/ss-adv-0054.png" /></p>
</li>
<li>
<p>Open the <strong>Security</strong> tab</p>
</li>
<li>Scroll down and see that there is no way to make any changes to the settings</li>
<li>
<p>Navigate back to the <strong>General</strong> tab and run the <strong>PuTTY launcher</strong> and see that the proxy banner is shown. That proofs that the connection is made via the SSH proxy</p>
<p><img alt="Test Confguration - 3" src="../images/lab-26a.png" /></p>
</li>
<li>
<p>Close the session using <strong>CTRL+D</strong></p>
</li>
<li>Logout of the Secret Server UI by <em>clicking the initials KR</em> in the upper right corner and select <strong>Log Out</strong></li>
<li>Click <strong>Log in</strong> and log in as <strong>LScott</strong> with <strong>Centr1fy</strong> and the <strong>Greensafe</strong> domain</li>
<li>
<p>She has access to the <strong>Greensafe Windows servers</strong> and <em>can see the password</em></p>
<p><img alt="Test Confguration - 4" src="../images/ss-adv-0055.png" /></p>
</li>
<li>
<p>Open the <strong>Security</strong> tab and see that the <strong>Enable Proxy</strong> is enabled and <strong>can not be unchecked</strong></p>
</li>
<li>Switch back to the <strong>General</strong> tab and run the <strong>RDP Launcher</strong></li>
<li>Close the RDP session after you see the desktop</li>
<li>Logout of the Secret Server UI by clicking the initials LS in the upper right corner and select <strong>Log Out</strong></li>
<li>Login the Secret Server UI as <strong>dhughes</strong> with <strong>Thycotic@2022!</strong> and the <strong>Thylab</strong> domain, click <strong>Continue</strong> on the <em>Welcome screen</em></li>
<li>
<p>This user should have besides the <strong>IT - Server Team</strong> folder also the <strong>Thylab</strong> folder</p>
<p><img alt="Secret Policy" src="../images/ss-adv-0056.png" /></p>
</li>
<li>
<p>Navigate to the <strong>Thylab</strong> folder and open <strong>Server Team - Domain Admins</strong> secret</p>
</li>
<li>Due to the policy you have to leave a comment and check out the secret</li>
<li>Leave a comment and click <strong>Check Out Secret</strong></li>
<li>
<p>Click the <strong>EYE</strong> icon and see the current password as that right is given</p>
<p><img alt="Secret Policy" src="../images/ss-adv-0057.png" /></p>
</li>
<li>
<p>Run the RDP Launcher and select <strong>DC1</strong> you see and select <strong>thylab.local</strong> as the Proxy Site then click <strong>Launch Now</strong></p>
<p><img alt="Secret Policy" src="../images/ss-adv-0058.png" /></p>
<hr />
<p><strong>Note</strong> The dropdown box is due to the Secret Template that is used at the time the secret has been created. We will dive deeper into this later in the lab.</p>
<hr />
</li>
<li>
<p>Sign out of the RDP session after you see the Desktop</p>
</li>
<li>
<p>Check the Secret back in using <strong>Time &gt; Check In</strong></p>
<p><img alt="Test Confguration - 4" src="../images/ss-adv-0059.png" /></p>
</li>
<li>
<p>Reopen the Secret and see that the password has been changed</p>
<p><img alt="Secret Policy" src="../images/ss-adv-0060.png" /></p>
</li>
<li>
<p>This is also conform the policy that we have defined and assigned to the folder</p>
</li>
</ol>
<h2 id="conclusion">Conclusion</h2>
<p>As summary the three security settings:</p>
<ul>
<li>IT Admins from the Thylab domain are allowed to use and see ALL secrets to access ALL servers AND must comment with checkout why they need access to the Thylab servers. After the session closes, the password needs to be rotated</li>
<li>IT Admins from the Greensafe domain are allowed to ONLY see the secrets of their Legacy environment and use them on their servers and are allowed to retrieve passwords</li>
<li>The UNIX admins are allowed to see ALL unix related secrets and can use them to access ALL Unix related machines but are not allowed to see the passwords</li>
<li>For all users<ul>
<li>all sessions (RDP and SSH) MUST run proxied</li>
</ul>
</li>
</ul>
<p>During the testing of the configuration, the conclusion is that (proved by the running three scenarios using three different users) the configured policies work as requested.</p>
<HR>
<p><center><H1 style="color:#00FF59">This concludes this part of the lab</H1></center></p>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../lab4/lab4/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Proxying SSh and RDP" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Proxying SSh and RDP
            </div>
          </div>
        </a>
      
      
        
        <a href="../../lab6/lab6/" class="md-footer__link md-footer__link--next" aria-label="Next: Teams" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Teams
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["search.highlight"], "search": "../../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>